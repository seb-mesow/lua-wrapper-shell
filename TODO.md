# TODO

- [x] fix `__convert_paths`
- [x] fix `convert_paths_to_unix`
- [x] load static config vars
- [ ] make cd command work as expected
- [x] print current working directory in debugging shell commands
- [x] debug call to `assoc_array_from_user_str()` in `config.bash`
- [x] revise luarocks installation
    - [-] to get admin rights
    - [x] scan suggeseted paths from luarocks installer
    - [ ] pause on automatically found windows installer sources.zip
    - [x] print infomessage on incorrect found C runtime if ucrtbase ; pause there
- [x] fix internal_err: It seems so that `FIRST_STACK_FRAME` is not defined
- [ ] call to `err_show_call_stack` in err trap handler
- [x] ensure that `log_config_vars` prints the "Log: " prefix
- [x] obtaining of original filepath of files to patch via a shell function
- [x] `PFA_query()`
- [x] `list_files_to_patch_CLI()`
- [x] patch files seem to be generated by comparing unix with windows style files
- [x] install patch of install.bat during luarocks installation
- [x] lua installation
- [x] only load generated config as needed (see new variable `need_generated_config` in `main.bash`)
- [ ] pause on creating default config
- [x] only load modules needed (e.g. see `install_luarocks`)
- [x] split module `patch_files`
- [x] combined lua and Luarocks Installation
- [x] force installation
- [x] debug error message on `./lua-wrapper-shell.bash 5.3 -c -il`
- [x] finish `print_two_arrays` and `print_indexed_array`
- [x] inhibit running sub shell twice
- [x] inhibit running sub shell inside a sub shell
- [x] at start building patches and edit build patches warn on active sub shell
- [x] at finish building patches warn on active subshell
- [x] at start/edit/finish building patched warn on not exisiting original file

- [x] patch subshell files for MINGW64 envs
- [x] review `temp_files_listing`

- [x] save in path_env_vars_config `LUA_PATH` and `LUA_CPATH` in Windows style paths
- [x] restore from master backup
- [x] rename "master backup"
- [x] all files generated by PFA should end with there meaning, thus, that they can /easily/ be opened with a text editior
    (currently the files end with the `wrapper_name_for_filenames`)
- [x] finish flexibel `__cfg___calc_env_*()` functions
- [x] print instructions, to set the current environment as the default in Windows
- [x] finish rewriting of `__cev___calc_env_*()` funcs
    (    `__cev___cleared_*()` must be executed in the from style
     and `__cev___exec_opt___order()` must be executed in the return style)
- [x] temporarily alter config variables in print_instructions to abbreviated Windows style
- [ ] Do not exit script in functions of `patch_files`, but at executing its action
      (Thus it can be checked, that there are no uncaught exceptions.)
- [x] make config vars read-only
- [ ] set up things such, that luarocks recognizes its own script name as not the fullpath name
      (this seems to involve the alias)
- [x] create an over all temp dir and remove the whole temp dir when exiting
      (this combines multiple rm external calls)
- [ ] set `LUA_PATH` and `LUA_CPATH` with `./?.lua` and `./?/init.lua` prepended
- [ ] **BUG:** it does not seem so, that binary rocks which are installed via the default Lua environment can be loaded.
- [ ] move test scripts outside of scripts directory
